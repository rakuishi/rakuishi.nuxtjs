{
  "categories": [
    "Android"
  ],
  "date": "2017-04-16T00:26:44.000Z",
  "draft": false,
  "slug": "how-to-use-projects-gradle-version",
  "title": "Error:Minimum supported Gradle version is 3.3. Current version is 2.14.1.",
  "bodyContent": "Android Studio で Gradle のバージョンを上げた際、下記エラーで躓いたのでメモしておきます。\n\n```\nError:Minimum supported Gradle version is 3.3. Current version is 2.14.1. If using the gradle wrapper, try editing the distributionUrl in /Users/YourName/Path/gradle/wrapper/gradle-wrapper.properties to gradle-3.3-all.zip\n```\n\nこのエラーが表示される時は、Android Studio が使用している Gradle プラグインのバージョンが高いが、指定している Gradle のバージョンが低い時に表示されます。\n\nGradle プラグインのバージョンは、プロジェクト直下にある /build.gradle に書かれています：\n\n```\nbuildscript {\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.0'\n    }\n}\n```\n\n上記と相対するように /gradle/wrapper/gradle-wrapper.properties に、使用する Gradle のバージョンを以下のように宣言する必要があります：\n\n```\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-3.3-all.zip\n```\n\n非常にややこしいのですが、Gradle と Gradle プラグインのバージョンは以下のように対応しており、上記のふたつの設定は現時点では正しい。以下、対応表です：\n\n| Plugin version | Required Gradle version |\n| --- | --- |\n| 1.0.0 - 1.1.3 | 2.2.1 - 2.3 |\n| 1.2.0 - 1.3.1 | 2.2.1 - 2.9 |\n| 1.5.0 | 2.2.1 - 2.13 |\n| 2.0.0 - 2.1.2 | 2.10 - 2.13 |\n| 2.1.3 - 2.2.3 | 2.14.1+ |\n| 2.3.0+ | 3.3+ |\n\n- [Android Plugin for Gradle Release Notes | Android Studio](https://developer.android.com/studio/releases/gradle-plugin.html)\n\nですが、Android Studio で冒頭のエラーが発生していました。Android Studio にある Terminal から Grale のバージョンを確認しても問題なさそう（初めは、プラグインのダウンロードが始まります）。\n\n```\n$ ./gradlew -v\n\n------------------------------------------------------------\nGradle 3.3\n------------------------------------------------------------\n\nBuild time:   2017-01-03 15:31:04 UTC\nRevision:     075893a3d0798c0c1f322899b41ceca82e4e134b\n\nGroovy:       2.4.7\nAnt:          Apache Ant(TM) version 1.9.6 compiled on June 29 2015\nJVM:          1.8.0_121 (Oracle Corporation 25.121-b13)\nOS:           Mac OS X 10.12.4 x86_64\n```\n\n躓いた原因としては、上記 Gradle のバージョンはあくまでこのプロジェクトの Gradle バージョンであり、Android Studio が現在使用している Gradle とは違うということでした。\n\nこの設定を変えるには、Android Studio → Preferences → Builds, Execution, Deployment → Gradle → Project-level settings から Use local gradle distribution を選択します。\n\nこうすれば無事にこのエラーを解決できました。(●・▽・●)",
  "bodyHtml": "<p>Android Studio で Gradle のバージョンを上げた際、下記エラーで躓いたのでメモしておきます。</p>\n<pre><code>Error:Minimum supported Gradle version is 3.3. Current version is 2.14.1. If using the gradle wrapper, try editing the distributionUrl in /Users/YourName/Path/gradle/wrapper/gradle-wrapper.properties to gradle-3.3-all.zip\n</code></pre>\n<p>このエラーが表示される時は、Android Studio が使用している Gradle プラグインのバージョンが高いが、指定している Gradle のバージョンが低い時に表示されます。</p>\n<p>Gradle プラグインのバージョンは、プロジェクト直下にある /build.gradle に書かれています：</p>\n<pre><code>buildscript {\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.0'\n    }\n}\n</code></pre>\n<p>上記と相対するように /gradle/wrapper/gradle-wrapper.properties に、使用する Gradle のバージョンを以下のように宣言する必要があります：</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-3.3-all.zip\n</code></pre>\n<p>非常にややこしいのですが、Gradle と Gradle プラグインのバージョンは以下のように対応しており、上記のふたつの設定は現時点では正しい。以下、対応表です：</p>\n<table>\n<thead>\n<tr>\n<th>Plugin version</th>\n<th>Required Gradle version</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1.0.0 - 1.1.3</td>\n<td>2.2.1 - 2.3</td>\n</tr>\n<tr>\n<td>1.2.0 - 1.3.1</td>\n<td>2.2.1 - 2.9</td>\n</tr>\n<tr>\n<td>1.5.0</td>\n<td>2.2.1 - 2.13</td>\n</tr>\n<tr>\n<td>2.0.0 - 2.1.2</td>\n<td>2.10 - 2.13</td>\n</tr>\n<tr>\n<td>2.1.3 - 2.2.3</td>\n<td>2.14.1+</td>\n</tr>\n<tr>\n<td>2.3.0+</td>\n<td>3.3+</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li><a href=\"https://developer.android.com/studio/releases/gradle-plugin.html\">Android Plugin for Gradle Release Notes | Android Studio</a></li>\n</ul>\n<p>ですが、Android Studio で冒頭のエラーが発生していました。Android Studio にある Terminal から Grale のバージョンを確認しても問題なさそう（初めは、プラグインのダウンロードが始まります）。</p>\n<pre><code>$ ./gradlew -v\n\n------------------------------------------------------------\nGradle 3.3\n------------------------------------------------------------\n\nBuild time:   2017-01-03 15:31:04 UTC\nRevision:     075893a3d0798c0c1f322899b41ceca82e4e134b\n\nGroovy:       2.4.7\nAnt:          Apache Ant(TM) version 1.9.6 compiled on June 29 2015\nJVM:          1.8.0_121 (Oracle Corporation 25.121-b13)\nOS:           Mac OS X 10.12.4 x86_64\n</code></pre>\n<p>躓いた原因としては、上記 Gradle のバージョンはあくまでこのプロジェクトの Gradle バージョンであり、Android Studio が現在使用している Gradle とは違うということでした。</p>\n<p>この設定を変えるには、Android Studio → Preferences → Builds, Execution, Deployment → Gradle → Project-level settings から Use local gradle distribution を選択します。</p>\n<p>こうすれば無事にこのエラーを解決できました。(●・▽・●)</p>\n",
  "dir": "static/content/archives",
  "base": "2017-04-16-how-to-use-projects-gradle-version.json",
  "ext": ".json",
  "sourceBase": "2017-04-16-how-to-use-projects-gradle-version.md",
  "sourceExt": ".md"
}