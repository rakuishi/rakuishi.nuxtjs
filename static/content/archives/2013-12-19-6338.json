{
  "categories": [
    "iOS"
  ],
  "date": "2013-12-19T11:00:57.000Z",
  "draft": false,
  "slug": 6338,
  "title": "[iOS 7] UITableView のセクションインデックスの色・背景色を指定する",
  "bodyContent": "UITableView のセル数が多い時、テーブルの右側に見出しを並べる（セクションインデックスを指定する）とユーザがコンテンツを選択しやすくなります。\n\niOS 7 では、UITableView のセクションインデックスの色の指定ルールが変わりました。アプリのテーマカラー（tintColor）を文字色に採用します。このルールは、Apple 標準アプリ（連絡帳、ミュージック等）で見られます。\n\n## セクションインデックスの色・背景色を指定\n\n実際に色を指定するには、以下のように UITableView の sectionIndex~ 系のプロパティに UIColor を指定します。\n\n```\nUIColor *tintColor = [UIColor colorWithRed:232.f/255.f green:71.f/255.f blue:56.f/255.f alpha:1.f];\nUIColor *trakingBackgroundColor = [UIColor colorWithRed:206.f/255.f green:203.f/255.f blue:198.f/255.f alpha:1.f];\n\nself.tableView.sectionIndexColor = tintColor;\nself.tableView.sectionIndexBackgroundColor = [UIColor whiteColor];\nself.tableView.sectionIndexTrackingBackgroundColor = trakingBackgroundColor;\n```\n\nsectionIndexColor は、文字色。~BackgroundColor は、標準状態の背景色。~TrackingBackgroundColor は、選択状態の背景色です。標準・選択状態の背景色は、デフォルトで同じ白色が指定されています。\n\n※ sectionIndexBackgroundColor だけは、iOS 7 以降のみ有効なプロパティなので iOS 6 も対応する場合は、注意する必要があります。\n\n## sectionIndexTrackingBackgroundColor には、色を指定すべき\n\n標準・選択状態の背景色は同色で、押したことに対するフィードバックを返していません。これは、Apple の標準アプリでも同様です。Apple は、この考え方を勧めたいのでしょうが、あまり良いとは思えません。\n\nそこでフィードバックをユーザに教えるために、拙作[郵便番号検索くん](https://itunes.apple.com/jp/app/ofurain-you-bian-fan-hao-jian/id578073498?mt=8&uo=4&at=11l3RT)では、以下のように選択時の背景色を変えています（上のコードと同じです）。これは、iOS 6 以前と似た操作性で、ユーザにとって使い勝手が良いと思います。\n\n![](/images/2013/12/6338_1.png)",
  "bodyHtml": "<p>UITableView のセル数が多い時、テーブルの右側に見出しを並べる（セクションインデックスを指定する）とユーザがコンテンツを選択しやすくなります。</p>\n<p>iOS 7 では、UITableView のセクションインデックスの色の指定ルールが変わりました。アプリのテーマカラー（tintColor）を文字色に採用します。このルールは、Apple 標準アプリ（連絡帳、ミュージック等）で見られます。</p>\n<h2>セクションインデックスの色・背景色を指定</h2>\n<p>実際に色を指定するには、以下のように UITableView の sectionIndex~ 系のプロパティに UIColor を指定します。</p>\n<pre><code>UIColor *tintColor = [UIColor colorWithRed:232.f/255.f green:71.f/255.f blue:56.f/255.f alpha:1.f];\nUIColor *trakingBackgroundColor = [UIColor colorWithRed:206.f/255.f green:203.f/255.f blue:198.f/255.f alpha:1.f];\n\nself.tableView.sectionIndexColor = tintColor;\nself.tableView.sectionIndexBackgroundColor = [UIColor whiteColor];\nself.tableView.sectionIndexTrackingBackgroundColor = trakingBackgroundColor;\n</code></pre>\n<p>sectionIndexColor は、文字色。~BackgroundColor は、標準状態の背景色。~TrackingBackgroundColor は、選択状態の背景色です。標準・選択状態の背景色は、デフォルトで同じ白色が指定されています。</p>\n<p>※ sectionIndexBackgroundColor だけは、iOS 7 以降のみ有効なプロパティなので iOS 6 も対応する場合は、注意する必要があります。</p>\n<h2>sectionIndexTrackingBackgroundColor には、色を指定すべき</h2>\n<p>標準・選択状態の背景色は同色で、押したことに対するフィードバックを返していません。これは、Apple の標準アプリでも同様です。Apple は、この考え方を勧めたいのでしょうが、あまり良いとは思えません。</p>\n<p>そこでフィードバックをユーザに教えるために、拙作<a href=\"https://itunes.apple.com/jp/app/ofurain-you-bian-fan-hao-jian/id578073498?mt=8&amp;uo=4&amp;at=11l3RT\">郵便番号検索くん</a>では、以下のように選択時の背景色を変えています（上のコードと同じです）。これは、iOS 6 以前と似た操作性で、ユーザにとって使い勝手が良いと思います。</p>\n<p><img src=\"/images/2013/12/6338_1.png\" alt=\"\"></p>\n",
  "dir": "static/content/archives",
  "base": "2013-12-19-6338.json",
  "ext": ".json",
  "sourceBase": "2013-12-19-6338.md",
  "sourceExt": ".md"
}